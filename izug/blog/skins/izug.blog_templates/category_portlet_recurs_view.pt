<tal:master define="level options/level|python:0;
                    children options/children | nothing;
                    bottomLevel options/bottomLevel | nothing;">
                    
  <metal:main define-macro="nav_main">
    <tal:navitem repeat="node children">
    <tal:def 
        tal:define="children   node/children;
                    item       node/item;
                    linkRemote python:item.getRemoteUrl and item.Creator != member_id;
                    isCurrent  node/currentItem;
                    sub_id     python:'sublevel_%s_%s' %(item['id'],str(level+1));
                    uid        node/uid"
        tal:condition="python: bottomLevel &lt;= 0 or level &lt; bottomLevel-1">

        <dd class="portletItem">                         
                    <a tal:attributes="href string:./blog_view?getCategoryUids=${uid}"
                       tal:content="string: ${item/Title} (${node/count_refs})">Selected Item Title</a>
        </dd>


        <dl tal:define="level python:level+1;"
            tal:condition="nocall:children">
            <metal:recurse use-macro="here/category_portlet_recurs_view/macros/nav_main"/>
        </dl>
    </tal:def>
    </tal:navitem>

  </metal:main>

</tal:master>

